<!DOCTYPE HTML>
<html lang="" >
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <link type="text/css" media="print" rel="stylesheet" href="https://cdn.jotfor.ms/css/printForm.css?3.3.23870" />
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
        <link type="text/css" rel="stylesheet" href="https://cdn.jotfor.ms/themes/CSS/5e6b428acc8c4e222d1beb91.css?themeRevisionID=5eb3b4ae85bd2e1e2966db96"/>
        <title>Pockyt Sandbox Application</title>
        <link href="https://yuansfer1.oss-accelerate.aliyuncs.com/images/logo/black_logo.png" rel="SHORTCUT ICON">
        <meta charset="utf-8">
        <style>
            body{
                overflow-x: hidden;
                background: #fff;
            }
            .logo-box{
              text-align: center;
            }
            .invalid-feedback{
                text-align: left;
                font-size: 85%;
            }
            .alert-fixed {
                position:fixed;
                top: 10px;
                left: 39%;
                width: 21%;
                z-index:9999;
                border-radius:0px;
                padding:5px;
            }
            .error-message{
                text-align: left;
                width: 100%;
                margin-top: .25rem;
                font-size: 90%;
                color: #dc3545;
            }
            #loading {
                width: 100%;
                height: 100%;
                top: 0;
                left: 0;
                position: fixed;
                display: none;
                opacity: 0.7;
                background-color: #fff;
                z-index: 99;
                text-align: center;
            }
            #loading-animation {
                position: absolute;
                top: 50%;
                z-index: 100;
            }
            .language-button-wrapper{
                padding: 20px;
                position: relative;
                left: 62%;
            }
            .submit-button{
              background: #41AF74;
              border-radius: 0;
            }
            .form-all{
              border: 1px solid #D5DCE3;
              box-shadow: none;
            }
        </style>
    </head>
    <body>
        <div class="alert-primary success-english alert-fixed" style="text-align: center; display:none;" role="alert">
            <i class="fa fa-check-circle-o" aria-hidden="true" style="padding: 0 5px;"></i>Your application has been submit, our staff members will let you know when your sandbox account is ready. Thank you for choosing Pockyt !
        </div>
        <div class="alert-primary success-chinese alert-fixed" style="text-align: center; display: none;" role="alert">
            <i class="fa fa-check-circle-o" aria-hidden="true" style="padding: 0 5px;"></i>您的申请已提交，我们的工作人员会在您的沙盒帐户准备就绪时通知您。 感谢您选择Pockyt！
        </div>
        <div class="alert-danger fail-english alert-fixed" style="text-align: center; display: none;" role="alert">
            <i class="fa fa-times" aria-hidden="true" style="padding: 0 5px;"></i>Apply failed!
        </div>
        <div class="alert-danger fail-chinese alert-fixed" style="text-align: center; display: none;" role="alert">
            <i class="fa fa-times" aria-hidden="true" style="padding: 0 5px;"></i>申请失败！
        </div>
        <div id='loading'>
            <div class="spinner-border text-primary" id='loading-animation' role="status">
                <span class="sr-only" >Loading...</span>
            </div>
        </div>
        <div id="body-wrapper">
            <div class="language-button-wrapper">
                <div class="button-wrapper">
                    <a href='#' id='english_button' style="color:dimgray;">English</a>
                    <span>|</span>
                    <a href='#' id="chinese_button" style="color:dimgray;">中文</a>
                </div>
            </div>
            <div class="logo-box">
              <img src="https://oss.yuansfer.com/svg/portal-pockyt-logo.svg" alt="Pockyt">
            </div>
            <div id="english_form">
                <form action="" class="needs-validation" novalidate method="" name="english_application" id="english_application" accept-charset="utf-8" autocomplete="on">
                    <div role="main" class="form-all">
                        <ul class="form-section page-section">
                            <li id="cid_1" class="form-input-wide" data-type="control_head">
                                <div class="form-header-group  header-large">
                                <div class="header-text httal htvam">
                                    <h1 id="header_1" class="form-header" data-component="header">
                                    Sandbox Account Application:
                                    </h1>
                                    <div id="subHeader_1" class="form-subHeader">
                                        Pockyt offers sandbox environment to be used for testing the entire transaction flow and various cases before deploy your service into a live environment. <br/><br/>
                                        The Sandbox environment API resource group is: <span style="color: cornflowerblue;">https://mapi.yuansfer.yunkeguan.com</span> <br/><br/>
                                        In order to test transaction flow in our sandbox environment, please fill out the application below:
                                    </div>
                                </div>
                                </div>
                            </li>
                            <li class="form-line " data-type="control_textbox" id="id_15">
                                <label class="form-label form-label-top form-label-auto" id="label_15" for="input_15">
                                Merchant Name
                                <span class="form-required">
                                    *
                                </span>
                                </label>
                                <div id="cid_15" class="form-input-wide form-group" data-layout="half">
                                    <input type="text" id="input_15" name="applyName" data-type="input-textbox" class="form-textbox validate[required] form-control" style="width:310px" size="310" value="" data-component="textbox" aria-labelledby="label_15" required />
                                    <div class="invalid-feedback">
                                        Please enter merchant name.
                                    </div>
                                </div>
                            </li>
                            <li class="form-line " data-type="control_email" id="id_6">
                                <label class="form-label form-label-top form-label-auto" id="label_6" for="input_6">
                                Email Address
                                <span class="form-required">
                                    *
                                </span>
                                </label>
                                <div id="cid_6" class="form-input-wide form-group" data-layout="half">
                                    <input type="email" id="input_6" name="applyEmail" class="form-textbox validate[required, Email] form-control" style="width:310px" size="310" value="" placeholder="ex: email@yahoo.com" data-component="email" aria-labelledby="label_6 sublabel_input_6" required/>
                                    <div class="invalid-feedback">
                                        Please enter email.
                                    </div>
                                </div>
                            </li>
                            <li class="form-line" data-type="control_button" id="id_2">
                                <div id="cid_2" class="form-input-wide" data-layout="full">
                                    <div data-align="left" class="form-buttons-wrapper form-buttons-left   jsTest-button-wrapperField">
                                        <button id="input_2" type="submit" class="form-submit-button submit-button jf-form-buttons jsTest-submitField" data-component="button" data-content="">
                                        Submit
                                        </button>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </form>
            </div>
            <div id="chinese_form">
                <form action="" class="needs-validation" novalidate method="" name="chinese_application" id="chinese_application" accept-charset="utf-8" autocomplete="on">
                    <div role="main" class="form-all">
                        <ul class="form-section page-section">
                            <li id="cid_1" class="form-input-wide" data-type="control_head">
                                <div class="form-header-group  header-large">
                                    <div class="header-text httal htvam">
                                    <h1 id="header_1" class="form-header" data-component="header">
                                        沙箱帐户申请:
                                    </h1>
                                    <div id="subHeader_1" class="form-subHeader">
                                        Pockyt给商家提供了一个测试用的沙盒环境，可用于在将服务部署到实时环境之前测试整个交易流程和各种情况。<br/><br/>

                                        <span style="color: cornflowerblue;">沙盒环境API资源组为: https://mapi.yuansfer.yunkeguan.com</span> <br/><br/>

                                        为了在我们的沙盒环境中测试交易，请填写以下申请表格：
                                    </div>
                                    </div>
                                </div>
                            </li>
                            <li class="form-line" data-type="control_textbox" id="id_15">
                                <label class="form-label form-label-top form-label-auto" id="label_15" for="input_15">
                                    商户名字
                                    <span class="form-required">
                                    *
                                    </span>
                                </label>
                                <div id="cid_15" class="form-input-wide form-group" data-layout="half">
                                    <input type="text" id="input_15" name="applyName" data-type="input-textbox" class="form-textbox validate[required] form-control" style="width:310px" size="310" value="" data-component="textbox" aria-labelledby="label_15" required/>
                                    <div class="invalid-feedback">
                                        请输入商户姓名。
                                    </div>
                                </div>
                            </li>
                            <li class="form-line " data-type="control_email" id="id_6">
                                <label class="form-label form-label-top form-label-auto" id="label_6" for="input_6">
                                    邮箱地址
                                    <span class="form-required">
                                    *
                                    </span>
                                </label>
                                <div id="cid_6" class="form-input-wide form-group" data-layout="half">
                                    <input type="email" id="input_6" name="applyEmail" class="form-textbox validate[required, Email] form-control" style="width:310px" size="310" value="" placeholder="ex: email@yahoo.com" data-component="email" aria-labelledby="label_6 sublabel_input_6" required/>
                                    <div class="invalid-feedback">
                                        请输入邮箱。
                                    </div>
                                </div>
                            </li>
                            <li class="form-line" data-type="control_button" id="id_2">
                                <div id="cid_2" class="form-input-wide" data-layout="full">
                                    <div data-align="left" class="form-buttons-wrapper form-buttons-left   jsTest-button-wrapperField">
                                    <button id="input_2" type="submit" class="form-submit-button submit-button jf-form-buttons jsTest-submitField" data-component="button" data-content="">
                                        提交
                                    </button>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </form>
            </div>
        </div>

        <script type="text/javascript">
            $(document).ready(function () {
                var url_string = location.href;
                var url = new URL(url_string);
                var language = url.searchParams.get("language");
                var plugin = url.searchParams.get("plugin");
                if(language=='chinese'){
                    $('#english_form').hide();
                    $('#chinese_button').css("color","black").css('font-weight','bold');
                }else{
                    $('#chinese_form').hide();
                    $('#english_button').css("color","black").css('font-weight','bold');
                }
                $('#english_button').on('click',function(){
                    $('#chinese_form').hide();
                    $('#english_form').show();
                    $('#english_button').css("color","black").css('font-weight','bold');
                    $('#chinese_button').css("color","dimgray").css('font-weight','normal');
                });
                $('#chinese_button').on('click',function(){
                    $('#chinese_form').show();
                    $('#english_form').hide();
                    $('#chinese_button').css("color","black").css('font-weight','bold');
                    $('#english_button').css("color","dimgray").css('font-weight','normal');
                });
                $("#english_application").on("submit", function(e) {
                    e.preventDefault();
                    var form = $(this);
                    if(form[0].checkValidity()==false){
                        e.preventDefault();
                        e.stopPropagation();
                    }else{
                        var postData = form.serializeArray();
                        var mapped = postData.map(item => ({ [item.name]: item.value }) );
                        var newObj = Object.assign({}, ...mapped );
                        if (plugin != null) {
                            var object = {
                                clientName: newObj.applyName,
                                email: newObj.applyEmail,
                                plugin: plugin
                            }

                            $.ajax({
                                url:'https://dash.yuansfer.com/api/pluginDownloadRecord/add',
                                type: "POST",
                                contentType:"application/json; charset=utf-8",

                                data: JSON.stringify(object),
                                success: function(data, textStatus, jqXHR) {
                                    console.log(data);
                                },
                                error: function(jqXHR, status, error) {
                                    console.log(error);
                                },
                            });
                        }

                        $.ajax({
                            url: "https://dash.yuansfer.com/api/storeTestaccount/add",
                            type: "POST",
                            headers: 'Content-Type: application/x-www-form-urlencoded',
                            data: newObj,
                            beforeSend: function(){
                                $('#loading').show();
                            },
                            success: function(data, textStatus, jqXHR) {
                                $('.success-english').show(500);
                                setTimeout(function() {
                                    location.reload();
                                }, 5000);
                            },
                            error: function(jqXHR, status, error) {
                                $('.alert-danger').show(500);
                                setTimeout(function() {
                                    $('.alert-danger').hide(500);
                                }, 3000);
                            },
                            complete:function(){
                                $('#loading').hide();
                            }
                        });
                    }
                    form.addClass('was-validated');
                });
                $("#chinese_application").on("submit", function(e) {
                    e.preventDefault();
                    var form = $(this);
                    if(form[0].checkValidity()==false){
                        e.preventDefault();
                        e.stopPropagation();
                    }else{
                        var postData = form.serializeArray();
                        var mapped = postData.map(item => ({ [item.name]: item.value }) );
                        var newObj = Object.assign({}, ...mapped );
                        if (plugin != null) {
                            var object = {
                                clientName: newObj.applyName,
                                email: newObj.applyEmail,
                                plugin: plugin
                            }

                            $.ajax({
                                url:'https://dash.yuansfer.com/api/pluginDownloadRecord/add',
                                type: "POST",
                                contentType:"application/json; charset=utf-8",

                                data: JSON.stringify(object),
                                success: function(data, textStatus, jqXHR) {
                                    console.log(data);
                                },
                                error: function(jqXHR, status, error) {
                                    console.log(error);
                                },
                            });
                        }
                        $.ajax({
                            url: "https://dash.yuansfer.com/api/storeTestaccount/add",
                            type: "POST",
                            headers: 'Content-Type: application/x-www-form-urlencoded',
                            data: newObj,
                            beforeSend: function(){
                                $('#loading').show();
                            },
                            success: function(data, textStatus, jqXHR) {
                                $('.success-chinese').show(500);
                                setTimeout(function() {
                                    location.reload();
                                }, 5000);
                            },
                            error: function(jqXHR, status, error) {
                                $('.alert-danger').show(500);
                                setTimeout(function() {
                                    $('.alert-danger').hide(500);
                                }, 3000);
                            },
                            complete:function(){
                                $('#loading').hide();
                            }
                        });
                    }
                    form.addClass('was-validated');
                });
            })

        </script>
        <script src="https://cdn.jotfor.ms//js/vendor/smoothscroll.min.js?v=3.3.23870"></script>
        <script src="https://cdn.jotfor.ms//js/errorNavigation.js?v=3.3.23870"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    </body>
</html>
